<%- include ('partials/header.ejs')  -%> 

<main id="homeContainer">

    <div class="sectionContainer">

        <div class="titleContainer">
          <h2>Coming Soon </h2>
          <a href="/home/comingSoon">See all</a>
        </div>

        <div class="glide carouselContainer" >
            <div class="glide__track" data-glide-el="track">
                
            <ul class="glide__slides">

                <% comingSoon.forEach(element => { %>
                    <a href="/movie/<%= element.id %>">
                        <li class="glide__slide">
                            <p><%= element.title.substring(0, 10)+ '...' %></p>

                            <img src="https://image.tmdb.org/t/p/w500<%= element.poster_path %> " onerror="this.src='/images/Image-Not-Available.png'" alt="">
                        </li>
                    </a>
                <% }); %>

            </ul>
            </div>
        </div>

    </div>

    <div class="sectionContainer">

        <div class="titleContainer">
          <h2>In Theatres</h2>
          <a href="/home/inTheatres">See all</a>
        </div>

        <div class="glide carouselContainer" >
            <div class="glide__track" data-glide-el="track">
                
            <ul class="glide__slides">

                <% theatres.forEach(element => { %>
                    <a href="/movie/<%= element.id %>">
                        <li class="glide__slide">
                            <p><%= element.title.substring(0, 10)+ '...' %></p>
                            <img src="https://image.tmdb.org/t/p/w500<%= element.poster_path %> " onerror="this.src='/images/Image-Not-Available.png'" alt="">
                        </li>
                    </a>
                <% }); %>

            </ul>
            </div>
        </div>

    </div>

    <div class="sectionContainer">

        <div class="titleContainer">
          <h2>Watchlist</h2>
          <a href="/watchlist">See all</a>
        </div>

        <div class="glide carouselContainer" >
            <div class="glide__track" data-glide-el="track">
                
            <ul class="glide__slides">

                <% user.watchlist.forEach(element => { %>
                    <a href="/movie/<%= element.imdbID %>">
                        <li class="glide__slide">
                            <p><%= element.movieTitle.substring(0, 10)+ '...' %></p>

                            <img src="<%= element.moviePoster %> " onerror="this.src='/images/Image-Not-Available.png' " alt="<%= element.movieTitle%>">
                        </li>
                    </a>
                <% }); %>

            </ul>
            </div>
        </div>

    </div>

    <div class="sectionContainer">

        <div class="titleContainer">
          <h2>Watched</h2>
          <a href="/watched">See all</a>
        </div>

        <div class="glide carouselContainer" >
            <div class="glide__track" data-glide-el="track">
                
            <ul class="glide__slides">

                <% user.moviesWatched.forEach(element => { %>
                    <a href="/watched/<%= element._id %>">
                        <li class="glide__slide">
                            <p><%= element.movieTitle.substring(0, 10)+ '...' %></p>
                            <img src="<%= element.moviePoster %> " onerror="this.src='/images/Image-Not-Available.png'" alt="">
                        </li>
                    </a>
                <% }); %>

            </ul>
            </div>
        </div>

    </div>
</main>




<%- include ('partials/footer.ejs')  -%> 